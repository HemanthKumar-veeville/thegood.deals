import{j as e,P as D,u as R,c as W,d as $,a as G,r as i,an as j,ao as J,C as K,ab as O,ap as Q,S as X,B as Y}from"./index-BuJcXEqG.js";import{P as C}from"./Pencil-BVsqWZuK.js";import{C as ee}from"./ChevronDown-B6xrbWvN.js";import{S as te}from"./ShowCustomSuccessModal-Srv8u6dv.js";import"./CheckmarkCircle3-DgKLTzBl.js";const le=({className:d})=>e.jsxs("svg",{className:`${d}`,fill:"none",height:"17",viewBox:"0 0 16 17",width:"16",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_310_12363)",children:[e.jsx("path",{d:"M6.25832 8.49999C6.25832 7.53408 7.03408 6.75832 7.99999 6.75832C8.96589 6.75832 9.74165 7.53408 9.74165 8.49999C9.74165 9.46589 8.96589 10.2417 7.99999 10.2417C7.03408 10.2417 6.25832 9.46589 6.25832 8.49999ZM6.71665 8.49999C6.71665 9.20908 7.29089 9.78332 7.99999 9.78332C8.70908 9.78332 9.28332 9.20908 9.28332 8.49999C9.28332 7.79089 8.70908 7.21665 7.99999 7.21665C7.29089 7.21665 6.71665 7.79089 6.71665 8.49999Z",fill:"#6B7280",stroke:"#6B7280",strokeWidth:"0.666667"}),e.jsx("path",{d:"M14.6504 8.93789L14.6631 8.91927L14.6731 8.89911C14.7951 8.65526 14.7951 8.34481 14.6731 8.10097L14.6631 8.0808L14.6504 8.06218C13.7218 6.7012 12.7766 5.71568 11.6953 5.07289C10.6095 4.42737 9.41068 4.1417 8 4.1417C6.58932 4.1417 5.39046 4.42737 4.30466 5.07289C3.22345 5.71568 2.27816 6.7012 1.34965 8.06218L1.34963 8.06217L1.34765 8.06514C1.17301 8.3271 1.17301 8.67297 1.34765 8.93494L1.34763 8.93495L1.34965 8.93789C2.27816 10.2989 3.22345 11.2844 4.30466 11.9272C5.39046 12.5727 6.58932 12.8584 8 12.8584C9.41068 12.8584 10.6095 12.5727 11.6953 11.9272C12.7766 11.2844 13.7218 10.2989 14.6504 8.93789ZM8 3.68337C9.88299 3.68337 11.2854 4.20064 12.3883 4.96467C13.4973 5.73287 14.3195 6.76152 15.0228 7.81012C15.2955 8.2194 15.3009 8.74954 15.0213 9.19213C14.318 10.2281 13.4961 11.2557 12.3878 12.0264C11.2844 12.7937 9.88211 13.3167 8 13.3167C6.11789 13.3167 4.71558 12.7937 3.61219 12.0264C2.50285 11.2549 1.68039 10.226 0.976641 9.18907C0.702075 8.77627 0.702231 8.22294 0.977108 7.8103C1.68036 6.76164 2.50268 5.73291 3.61169 4.96467C4.71463 4.20064 6.11701 3.68337 8 3.68337Z",fill:"#6B7280",stroke:"#6B7280",strokeWidth:"0.666667"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_310_12363",children:e.jsx("rect",{fill:"white",height:"16",transform:"translate(0 0.5)",width:"16"})})})]}),N=({color:d="white",className:n})=>e.jsxs("svg",{className:`${n}`,fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{clipPath:"url(#clip0_310_4999)",children:e.jsx("path",{d:"M23.3251 4.46248C23.3251 4.16248 23.2126 3.86248 22.9876 3.63748C22.5375 3.18748 22.0876 2.73748 21.6751 2.28748C21.2626 1.87498 20.8876 1.46248 20.475 1.08748C20.2875 0.86248 20.0626 0.71248 19.7626 0.67498C19.4251 0.63748 19.125 0.71248 18.8626 0.93748L16.3126 3.48748H3.03755C1.76255 3.48748 0.675049 4.53748 0.675049 5.84998V21C0.675049 22.275 1.72505 23.3625 3.03755 23.3625H18.225C19.5 23.3625 20.5876 22.3125 20.5876 21V7.68748L23.0251 5.24998C23.2126 5.02498 23.3251 4.76248 23.3251 4.46248ZM12.3 13.5C12.2625 13.5375 12.2625 13.5375 12.225 13.5375L9.52505 14.4375L10.425 11.7375C10.425 11.7 10.4626 11.7 10.4626 11.6625L17.2126 4.91248L19.0876 6.74998L12.3 13.5ZM18.8626 21C18.8626 21.375 18.5625 21.675 18.1875 21.675H3.03755C2.66255 21.675 2.36255 21.375 2.36255 21V5.81248C2.36255 5.43748 2.66255 5.13748 3.03755 5.13748H14.5876L9.26255 10.5C9.07505 10.6875 8.88755 10.95 8.81255 11.25L7.42505 15.45C7.31255 15.75 7.38755 16.0125 7.53755 16.275C7.65005 16.425 7.87505 16.65 8.28755 16.65H8.43755L12.7501 15.225C13.0126 15.15 13.2751 14.9625 13.4626 14.775L18.8626 9.37498V21ZM20.2501 5.58748L18.375 3.74998L19.5375 2.58748C19.8375 2.88748 21.0751 4.12498 21.3751 4.46248L20.2501 5.58748Z",fill:d})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_310_4999",children:e.jsx("rect",{fill:"white",height:"24",width:"24"})})})]});N.propTypes={color:D.string};const ne=()=>{const d=R(),n=W(),{profile:c,status:h}=$(t=>t.account),{t:l}=G(),[x,k]=i.useState(null),[P,g]=i.useState(!1),[L,u]=i.useState(!1),[w,S]=i.useState(""),M={firstName:"",lastName:"",phone:"",email:"",currentPassword:"*******************",newPassword:"*******************",language:"English",address:"",additionalAddress:"",city:"",postalCode:"",country:"",profilepicture:""},[o,f]=i.useState(M),[E,v]=i.useState(null),[b,A]=i.useState({current:!1,new:!1});i.useEffect(()=>{n(j())},[n]),i.useEffect(()=>{if(c!=null&&c.data){const{first_name:t,last_name:a,phone:s,email:r,address:Z,addl_address:V,city:z,postal_code:T,country:U,profile_picture:q,language:I}=c.data;f({firstName:t||"",lastName:a||"",phone:s||"",email:r||"",currentPassword:"*******************",newPassword:"*******************",language:I||"French",address:Z||"",additionalAddress:V||"",city:z||"",postalCode:T||"",country:U||"",profilepicture:q||""})}},[c]);const B=i.useCallback(()=>{d("/settings")},[d]),m=t=>v(t),y=t=>{const{name:a,value:s}=t.target;f(r=>({...r,[a]:s}))},F=i.useCallback(async()=>{var t,a;try{v(null);const s=await n(J({...o,profilepicture:x}));if((t=s==null?void 0:s.payload)!=null&&t.detail)throw console.log({error:s.payload.detail}),new Error(s.payload.detail);{const r=await n(j());if((a=r==null?void 0:r.payload)!=null&&a.detail)throw console.log({error:r.payload.detail}),new Error(r.payload.detail)}u(!0),console.log("success")}catch(s){const r=typeof s=="object"?l("edit_profile.error"):s;g(!0),S(r),console.log(r)}},[n,o,x]),H=t=>{const a=t.target.files[0];if(a){k(a);const s=new FileReader;s.onloadend=()=>{f(r=>({...r,profilepicture:s.result}))},s.readAsDataURL(a)}},_=t=>{A(a=>({...a,[t]:!a[t]}))},p=(t,a,s="text",r="")=>E===t?e.jsx("input",{name:t,type:s,value:a||"",onChange:y,autoFocus:!0,placeholder:r,className:"relative w-full mt-[-1.00px] [font-family:'Inter',Helvetica] font-normal text-darkdark-5 text-base tracking-[0] leading-6 focus:outline-none"}):e.jsx("div",{className:"relative w-full mt-[-1.00px] [font-family:'Inter',Helvetica] font-normal text-darkdark-5 text-base tracking-[0] leading-6 whitespace-nowrap",onClick:()=>m(t),children:a||""});return e.jsxs("div",{className:"flex flex-col w-full items-start relative bg-primary-background",children:[h==="loading"&&e.jsx(K,{}),h!=="loading"&&e.jsxs("div",{className:"flex flex-col w-full items-start gap-[15px] px-[35px] py-[15px] relative flex-[0_0_auto]",children:[e.jsxs("div",{className:"flex w-full items-center gap-3 pt-0 pb-5 px-0 relative flex-[0_0_auto] border-b [border-bottom-style:solid] border-stroke cursor-pointer",onClick:B,children:[e.jsx(O,{className:"!relative !w-[18px] !h-[18px]",color:"#637381"}),e.jsx("div",{className:"relative w-fit mt-[-1.00px] [font-family:'Inter',Helvetica] font-medium text-[#637381] text-base tracking-[0] leading-6 whitespace-nowrap",children:l("edit_profile.back")})]}),e.jsx("div",{className:"relative w-fit font-heading-6 font-[number:var(--heading-6-font-weight)] text-[#1b4f4a] text-[length:var(--heading-6-font-size)] text-center tracking-[var(--heading-6-letter-spacing)] leading-[var(--heading-6-line-height)] whitespace-nowrap [font-style:var(--heading-6-font-style)]",children:l("edit_profile.title")}),e.jsxs("div",{className:"flex items-center justify-start relative self-stretch w-full flex-[0_0_auto] gap-[15px]",children:[e.jsx("div",{className:"inline-flex items-center gap-[15px] relative flex-[0_0_auto]",children:(o==null?void 0:o.profilepicture)===""?e.jsx(Q,{}):e.jsx("img",{className:"relative w-[50px] h-[50px] object-cover rounded-lg",alt:"Profile",src:o.profilepicture})}),P&&e.jsx(X,{message:w,buttonText:l("waiting_deal.got_it"),onClose:()=>g(!0)}),L&&e.jsx(te,{message:w,buttonText:l("waiting_deal.got_it"),onClose:()=>u(!1)}),e.jsxs("div",{className:"inline-flex items-center justify-center gap-1.5 px-3 py-[5px] relative flex-[0_0_auto] bg-[#1b4f4a] rounded-[5px]",children:[e.jsx(N,{className:"!relative !w-3.5 !h-3.5",color:"white"}),e.jsx("div",{className:"relative w-fit mt-[-1.00px] [font-family:'Inter',Helvetica] font-normal text-white text-sm tracking-[0] leading-[22px] whitespace-nowrap",children:l("edit_profile.change_profile_picture")}),e.jsx("input",{type:"file",accept:"image/*",onChange:H,className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),e.jsx("div",{className:"relative w-fit font-body-large-medium font-[number:var(--body-large-medium-font-weight)] text-[#1b4f4a] text-[length:var(--body-large-medium-font-size)] text-center tracking-[var(--body-large-medium-letter-spacing)] leading-[var(--body-large-medium-line-height)] whitespace-nowrap [font-style:var(--body-large-medium-font-style)]",children:l("edit_profile.your_information")}),[{name:"firstName",label:l("edit_profile.first_name")},{name:"lastName",label:l("edit_profile.last_name")},{name:"phone",label:l("edit_profile.phone")},{name:"email",label:l("edit_profile.email")}].map(({name:t,label:a})=>e.jsx("div",{className:"flex flex-col h-12 items-start gap-[5px] relative self-stretch w-full cursor-pointer",onClick:()=>m(t),children:e.jsx("div",{className:"flex flex-col items-start gap-2.5 relative flex-1 self-stretch w-full grow",children:e.jsx("div",{className:"flex items-center gap-2.5 pl-5 pr-4 py-3 relative flex-1 self-stretch w-full grow bg-white rounded-md border border-solid border-stroke",children:e.jsxs("div",{className:"flex items-center justify-between relative flex-1 grow",children:[p(t,o[t],"text",a),e.jsx(C,{className:"!relative !w-4 !h-4"})]})})})},t)),e.jsx("div",{className:"flex flex-col h-12 items-start gap-[5px] relative self-stretch w-full",children:e.jsxs("div",{className:"relative w-full",children:[e.jsxs("select",{name:"language",value:o.language,onChange:y,className:"w-full pl-5 pr-10 py-3 bg-white rounded-md border border-solid border-stroke text-darkdark-5 text-base font-normal focus:outline-none appearance-none",children:[e.jsx("option",{value:"French",children:"French"}),e.jsx("option",{value:"English",children:"English"})]}),e.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none",children:e.jsx(ee,{className:"!relative !w-4 !h-4"})})]})}),e.jsx("div",{className:"relative w-fit font-body-large-medium font-[number:var(--body-large-medium-font-weight)] text-[#1b4f4a] text-[length:var(--body-large-medium-font-size)] text-center tracking-[var(--body-large-medium-letter-spacing)] leading-[var(--body-large-medium-line-height)] whitespace-nowrap [font-style:var(--body-large-medium-font-style)]",children:l("edit_profile.change_password")}),[{name:"currentPassword",label:l("edit_profile.current_password"),showPassword:b.current,toggleVisibility:()=>_("current")},{name:"newPassword",label:l("edit_profile.new_password"),showPassword:b.new,toggleVisibility:()=>_("new")}].map(({name:t,label:a,showPassword:s,toggleVisibility:r})=>e.jsx("div",{className:"flex flex-col h-12 items-start gap-[5px] relative self-stretch w-full",children:e.jsx("div",{className:"flex flex-col items-start gap-2.5 relative flex-1 self-stretch w-full grow",children:e.jsx("div",{className:"flex items-center gap-2.5 pl-5 pr-4 py-3 relative flex-1 self-stretch w-full grow bg-white rounded-md border border-solid border-stroke",children:e.jsxs("div",{className:"flex items-center justify-between relative flex-1 grow",children:[p(t,o[t],s?"text":"password",a),e.jsx("div",{onClick:r,children:e.jsx(le,{className:"!relative !w-4 !h-4 cursor-pointer"})})]})})})},t)),e.jsx("div",{className:"flex flex-wrap text-[#637381] text-sm gap-x-4 gap-y-2 mt-2 w-[19rem]",children:["edit_profile.password_requirements.characters","edit_profile.password_requirements.capital_letter","edit_profile.password_requirements.lower_case","edit_profile.password_requirements.digit"].map((t,a)=>e.jsxs("div",{className:"relative w-fit mt-[-1.00px] font-body-small-regular font-[number:var(--body-small-regular-font-weight)] text-primary-text-color text-[length:var(--body-small-regular-font-size)] text-center tracking-[var(--body-small-regular-letter-spacing)] leading-[var(--body-small-regular-line-height)] whitespace-nowrap [font-style:var(--body-small-regular-font-style)]",children:[e.jsx("span",{className:"mr-1",children:"â€¢"})," ",l(t)]},a))}),e.jsx("div",{className:"relative w-fit font-body-large-medium font-[number:var(--body-large-medium-font-weight)] text-[#1b4f4a] text-[length:var(--body-large-medium-font-size)] text-center tracking-[var(--body-large-medium-letter-spacing)] leading-[var(--body-large-medium-line-height)] whitespace-nowrap [font-style:var(--body-large-medium-font-style)]",children:l("edit_profile.your_address")}),[{name:"address",label:l("edit_profile.address"),heading:l("edit_profile.address")},{name:"additionalAddress",label:l("edit_profile.additional_address"),heading:l("edit_profile.additional_address")},{name:"city",label:l("edit_profile.city"),heading:l("edit_profile.city")},{name:"postalCode",label:l("edit_profile.postal_code"),heading:l("edit_profile.postal_code")},{name:"country",label:l("edit_profile.country"),heading:l("edit_profile.country")}].map(({name:t,label:a,heading:s})=>e.jsx("div",{className:"flex flex-col h-20 items-start gap-[5px] relative self-stretch w-full cursor-pointer",children:e.jsxs("div",{className:"flex flex-col items-start gap-2.5 relative flex-1 self-stretch w-full grow",children:[e.jsx("div",{className:"flex w-full items-start gap-2.5 relative flex-[0_0_auto]",children:e.jsxs("div",{className:"font-[number:var(--body-small-medium-font-weight)] relative w-fit mt-[-1.00px] font-body-small-medium text-[#1b4f4a] text-[length:var(--body-small-medium-font-size)] tracking-[var(--body-small-medium-letter-spacing)] leading-[var(--body-small-medium-line-height)] whitespace-nowrap [font-style:var(--body-small-medium-font-style)]",children:[s," ",t!=="additionalAddress"&&l("edit_profile.required")]})}),e.jsx("div",{className:"flex flex-col h-12 items-start gap-[5px] relative self-stretch w-full",onClick:()=>m(t),children:e.jsx("div",{className:"flex items-center gap-2.5 pl-5 pr-4 py-3 relative flex-1 self-stretch w-full grow bg-white rounded-md border border-solid border-stroke",children:e.jsxs("div",{className:"flex items-center justify-between relative flex-1 grow",children:[p(t,o[t],"text",a),e.jsx(C,{className:"!relative !w-4 !h-4"})]})})})]})},t)),e.jsx("div",{onClick:F,className:"w-full",children:e.jsx(Y,{buttonText:l("edit_profile.confirm_changes"),className:"!self-stretch !flex-[0_0_auto] !flex !w-full",color:"primary",kind:"primary",round:"semi-round",state:"default"})})]})]})};export{ne as default};
